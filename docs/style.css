:root{
  --bg: #EBC620;
  --accent: #f9e98c;
  --accent-2: #f8e46a;
  --muted: rgba(0,0,0,0.08);
  --black: #000;
  --card: #fff8c4;
  --gap: 0.8rem;
  --radius: 12px;
  --container-max: 920px;
  --btn-shadow: 0 6px 18px rgba(0,0,0,0.12);
}

/* Reset / base */
*,
*::before,
*::after {
  box-sizing: border-box;
}

html, body {
  height: 100%;
}

body {
  margin: 0;
  font-family: 'Poppins', 'Segoe UI', system-ui, sans-serif;
  background: var(--bg);
  color: #222;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  line-height: 1.3;
  padding-bottom: 4rem; /* reserve space for notifications */
}

/* typography */
h1 { font-size: clamp(1.6rem, 3.2vw, 2.4rem); margin: 0; }
h2 { font-size: clamp(1rem, 2.2vw, 1.2rem); margin: 6px 0 0; }
h3 { font-size: 1rem; margin: 0; }

/* Header */
header{
  position: sticky;
  top: 0;
  z-index: 30;
  background: var(--bg);
  padding: 0.8rem 1rem;
  border-bottom: 3px solid rgba(0,0,0,0.06);
  display: flex;
  align-items: center;
  gap: 0.8rem;
  justify-content: space-between;
}
header .titlewrap { display:flex; flex-direction:column; }

/* Main container */
main{
  max-width: var(--container-max);
  margin: 1rem auto;
  padding: 1rem;
  width: calc(100% - 2rem);
}

/* Goal / header input area */
.goal-row{
  display:flex;
  gap:0.6rem;
  align-items:center;
  width:100%;
  flex-wrap:wrap;
}
#kalorienziel{
  flex: 1 1 160px;
  min-width: 120px;
  padding: 0.6rem 0.8rem;
  border-radius: 12px;
  border: 2px solid var(--black);
  font-size: 1rem;
}
#submitBtn{
  padding: 0.6rem 0.9rem;
  border-radius: 12px;
  border: 2px solid var(--black);
  background: var(--accent-2);
  cursor: pointer;
  font-weight: 700;
  transition: background .15s, transform .08s, box-shadow .12s;
  box-shadow: var(--btn-shadow);
}
#submitBtn:hover{ transform: translateY(-2px); background: #f9e98c;}
#submitBtn:active{ transform: translateY(1px); background: #e0cc5c; }

/* output text */
#outputText{ margin-top: 0.6rem; font-weight: 700; }

/* progress bar */
#progressContainer{
  width:100%;
  height:18px;
  background:#fff;
  border-radius:999px;
  border:2px solid var(--black);
  overflow:hidden;
  margin-top:0.6rem;
}
#progressBar{
  height:100%;
  width:0%;
  background: linear-gradient(90deg,#ff4d4d,#ff944d);
  transition: width .35s ease, background .35s ease;
}

/* macro bar */
#macroBarContainer{ margin-top: 0.8rem; }
#macroBar{
  height:28px;
  border-radius:14px;
  display:flex;
  overflow:hidden;
  border:2px solid var(--black);
  background:#f5f5f5;
}
.macro-segment{ height:100%; transition:width .5s ease; position:relative; }
.macro-segment::after{
  content: attr(data-label);
  position: absolute;
  left: 8px;
  top:50%;
  transform: translateY(-50%);
  font-weight:700;
  font-size:0.85rem;
  opacity:0;
}
.macro-segment:hover::after{ opacity:1; }
.fat{ background:#FFD700; }
.protein{ background:#3B82F6; }
.carbs{ background:#4CAF50; }
.kcal{ background:#D3D3D3; }
#macroInfoText{ font-size:0.95rem; font-weight:700; margin-top:0.5rem; }

/* tools / chrome-tab style */
#tools{
  display:flex;
  gap:0.5rem;
  align-items:center;
  flex-wrap:wrap;
  margin-top:0.8rem;
}
#tools button{
  background:var(--accent-2);
  border:none;
  padding:0.6rem 0.9rem;
  border-radius:10px;
  cursor:pointer;
  font-weight:700;
  transition: transform .08s, box-shadow .12s;
  box-shadow: 0 6px 14px rgba(0,0,0,0.08);
}
#tools button:hover{ transform: translateY(-2px); background:#f9e98c; }
#tools button:active{ transform: translateY(1px); background:#e0cc5c; }
#tools button.active{ background:var(--card); box-shadow:0 8px 20px rgba(0,0,0,0.12); }

/* sort section */
#sortSection{
  display:flex;
  gap:0.6rem;
  align-items:center;
  flex-wrap:wrap;
  margin-top:0.6rem;
}
#sortSection label{ font-weight:700; }
select#sortSelect{
  padding:0.5rem 0.8rem;
  border-radius:12px;
  border:2px solid var(--black);
  background:var(--accent-2);
  font-weight:700;
}
#sortDirectionBtn{
  padding:0.5rem 0.7rem;
  border-radius:10px;
  border:2px solid var(--black);
  background:var(--accent-2);
  font-weight:800;
}

/* entries & cards */
#entries, #entryList{ margin-top:0.8rem; }
#entries > div, #entryList > p, #entryList > div{
  background: var(--card);
  border:2px solid var(--black);
  border-radius: var(--radius);
  padding:0.8rem;
  margin-top:0.6rem;
}
#entryList p{
  display:flex;
  gap:0.6rem;
  align-items:center;
  justify-content:space-between;
  flex-wrap:wrap;
}
.entry-buttons{ display:flex; gap:0.4rem; }

/* Edit/Delete/Expand button base styles (consistent) */
.edit-btn, .delete-btn, .expand-btn {
  padding: 0.35rem 0.5rem;
  border-radius: 8px;
  border: 2px solid rgba(0,0,0,0.12);
  background: rgba(255,255,255,0.95);
  cursor: pointer;
  box-shadow: 0 4px 10px rgba(0,0,0,0.06);
  font-weight: 700;
}
.edit-btn:hover, .delete-btn:hover, .expand-btn:hover { transform: translateY(-2px); }
.edit-btn:active, .delete-btn:active, .expand-btn:active { transform: translateY(1px); }

/* inline small action buttons inside entries */
#entryList p button{
  padding:0.35rem 0.5rem;
  border-radius:8px;
  border:2px solid var(--black);
  background: var(--accent);
  cursor:pointer;
  font-size:1rem;
  font-weight:700;
}
#entryList p button:hover{ transform: translateY(-2px); background:#fef3b1; }
#entryList p button:active{ transform: translateY(1px); background:#e0cc5c; }

/* form fields inside cards - stacked layout (one input per row) */
#entries > div label,
#entries > div input,
#entries > div select,
#entries > div textarea,
#entryList > div label,
#entryList > div input,
#entryList > div select,
#entryList > div textarea {
  display: block;
  width: 100%;
  margin-top: 0.45rem;
  margin-bottom: 0.45rem;
  font-weight: 600;
}

/* make inputs full width and visually consistent */
#entries input,
#entries select,
#entryList input,
#entryList select,
#entries textarea,
#entryList textarea {
  padding: 0.6rem 0.75rem;
  border-radius: 10px;
  border: 2px solid var(--black);
  background: #fffdf2;
  font-size: 1rem;
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.6);
  -webkit-appearance: none;
}

/* bigger number/time inputs look nicer */
#entries input[type="number"],
#entryList input[type="number"],
#entries input[type="time"],
#entryList input[type="time"] { max-width: 100%; }

/* suggestion box */
.suggestion-box{
  position:absolute;
  left:0;
  top:calc(100% + 6px);
  width:100%;
  max-width:100%;
  background:#fffdf2;
  border:2px solid var(--black);
  border-radius:0 0 12px 12px;
  z-index:9999;
  display:none;
  padding:8px;
  box-shadow:0 10px 30px rgba(0,0,0,0.12);
  -webkit-overflow-scrolling: touch;
}
.suggestion-item{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  padding:0.55rem 0.9rem;
  border-radius:10px;
  border:2px solid var(--black);
  margin:6px 0;
  font-weight:700;
  cursor:pointer;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}
.suggestion-item:hover{ background:#fff6b8; transform: translateX(3px); }

/* notifications */
#notificationContainer{
  position: fixed;
  bottom: 18px;
  right: 18px;
  display:flex;
  flex-direction:column-reverse;
  gap:10px;
  z-index:99999;
}
.notification{
  background: var(--card);
  border:2px solid var(--black);
  border-radius:12px;
  padding:0.7rem 0.9rem;
  min-width:200px;
  max-width:320px;
  box-shadow:0 8px 24px rgba(0,0,0,0.16);
  font-weight:700;
  display:flex;
  gap:10px;
  align-items:center;
  justify-content:space-between;
  transform: translateX(120%);
  opacity:0;
  transition: all .45s cubic-bezier(.22,1,.36,1);
}
.notification.show{ transform:none; opacity:1; }

/* tab buttons */
.tab-btn{
  appearance:none;
  border:none;
  padding:0.45rem 1rem;
  border-radius:12px;
  background: linear-gradient(#fffdf4,#f2e293);
  cursor:pointer;
  font-weight:700;
}
.tab-btn.active{ background: linear-gradient(#fff,#fff7b5); }

/* SUBMIT / CANCEL buttons inside entry forms (Hinzuf端gen, Speichern, Abbrechen) */
.submit-entry-btn,
.entry-save-btn,
.entry-cancel-btn {
  display: inline-block;
  width: 100%; /* mobile: full-width for easy tapping */
  text-align: center;
  padding: 0.75rem 1rem;
  border-radius: 12px;
  border: 2px solid var(--black);
  font-weight: 800;
  cursor: pointer;
  box-shadow: var(--btn-shadow);
  transition: transform .12s, box-shadow .12s, background .12s;
  background: linear-gradient(180deg, #ffffff 0%, #fff7b5 100%);
}

/* primary action visual (used for Hinzuf端gen) */
.submit-entry-btn {
  background: linear-gradient(180deg, #ffb84d 0%, #ff944d 100%);
  color: #100;
  border-color: rgba(0,0,0,0.9);
}
.submit-entry-btn:hover { transform: translateY(-3px); box-shadow: 0 10px 24px rgba(0,0,0,0.18); }
.submit-entry-btn:active { transform: translateY(1px); }

/* Make save and cancel/back use the same visual style as Hinzuf端gen */
.entry-save-btn,
.entry-cancel-btn {
  /* match primary look of .submit-entry-btn */
  background: linear-gradient(180deg, #ffb84d 0%, #ff944d 100%);
  color: #100;
  border-color: rgba(0,0,0,0.9);
}
.entry-save-btn:hover,
.entry-cancel-btn:hover { transform: translateY(-3px); box-shadow: 0 10px 24px rgba(0,0,0,0.18); }
.entry-save-btn:active,
.entry-cancel-btn:active { transform: translateY(1px); }

/* Fallback: if save/back buttons are created without classes, style direct buttons inside entry forms
   but avoid styling tab buttons (which also are buttons inside the form). */
#entries > div > button:not(.tab-btn),
#entryList > div > button:not(.tab-btn) {
  /* apply primary action look (same as Hinzuf端gen) */
  background: linear-gradient(180deg, #ffb84d 0%, #ff944d 100%);
  color: #100;
  border: 2px solid rgba(0,0,0,0.9);
  border-radius: 12px;
  padding: 0.75rem 1rem;
  font-weight: 800;
  cursor: pointer;
  box-shadow: 0 10px 24px rgba(0,0,0,0.18);
  transition: transform .12s, box-shadow .12s, background .12s;
}
#entries > div > button:not(.tab-btn):hover,
#entryList > div > button:not(.tab-btn):hover { transform: translateY(-3px); }
#entries > div > button:not(.tab-btn):active,
#entryList > div > button:not(.tab-btn):active { transform: translateY(1px); }

/* cancel button fallback if it exists as a secondary action: keep a small top margin */
#entries > div > button.entry-cancel-btn,
#entryList > div > button.entry-cancel-btn { margin-top: 0.4rem; }

/* on larger screens make submit / cancel inline */
@media (min-width:700px){
  .submit-entry-btn, .entry-save-btn, .entry-cancel-btn { width: auto; display: inline-block; padding: 0.6rem 0.9rem; }
  /* layout for label+input pairs remain stacked but forms look tighter */
  #entries > div label, #entryList > div label { margin-top: 0.4rem; margin-bottom: 0.25rem; }
}

/* entries action small tweaks */
.entry-buttons { align-items:center; }
.entry-buttons button { font-size:0.95rem; padding:0.45rem 0.6rem; }

/* focus */
input:focus, select:focus, button:focus{ outline: 3px solid rgba(0,0,0,0.08); outline-offset:2px; }

/* responsive breakpoints */
@media (min-width:700px){
  main{ padding:1.5rem; }
  #tools{ gap:0.8rem; }
  .goal-row{ flex-wrap:nowrap; }
  #entries > div, #entryList > p{ padding:1rem; }
  .suggestion-box{ max-width:480px; }
}

@media (min-width:1000px){
  body{ padding-bottom:2rem; }
  main{ display:flex; gap:1.2rem; align-items:flex-start; }
  main > header{ display:none; }
  .left-col{ flex:1 1 520px; }
  .right-col{ flex:0 0 360px; }
  #entryList p{ font-size:0.98rem; }
  #notificationContainer{ right:32px; }
}

/* ensure parents allow absolute suggestion-box */
#entries > div, #entryList > div, #entries, #entryList{ position: relative; }

/* small cosmetic */
hr{ border:none; border-top:2px solid rgba(0,0,0,0.12); margin:1rem 0; }
